<!DOCTYPE html>
<html mip>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <title>MIP Bind</title>
  <link rel="canonical">
  <link rel="stylesheet" href="../../dist/mip.css">
</head>
<body>
  <mip-data>
    <script type="application/json">
      {
        "color": {
          "silver": 0,
          "grey": ['c', 'b', 'a'],
          "yellow": [3, 2, 1]
        },
        "size": {
          "small": 0,
          "big": 'big'
        },
        "urls": [
          "https://www.gstatic.com/webp/gallery/1.jpg",
          "https://www.gstatic.com/webp/gallery/2.jpg",
          "https://www.gstatic.com/webp/gallery/3.jpg"
        ],
        "index": 0,
        "url": "https://www.gstatic.com/webp/gallery/1.jpg",
      }
    </script>
  </mip-data>
  <div>
    <p>color.silver: <span m-text="color.silver"></span></p>
    <p>color.grey[0]: <span m-text="color.grey[color.silver]"></span></p>
    <p>color.yellow[0]: <span m-text="color.yellow[0]"></span></p>
    <p>size.big: <span m-text="size.big"></span></p>
    <p>size.small: <span m-text="size.small"></span></p>
    <button on="
      tap:
      MIP.setData({
        color: {
          'silver': color.silver + 1,
          'yellow': color.grey.sort()
        }
      })
      "
    >change color</button>
    <button
      on="
          tap:
            MIP.setData({
              size: {
                big: color.silver,
                small: m.color.silver + 10086
              }
            })
      "
    >set color.silver to size.big</button>
  </div>

  <br>
  <br>

  <div>
    <p>当前 url: <span m-text="urls[index]"></span></p>
    <button
      on="
      tap:
      MIP.setData({
        index: (m.index + 1) === m.urls.length ? 0 : (m.index + 1)
      })
     "
    >修改显示图片序号: <span m-text="index"></span></button>

    <mip-img id="img-1"
      m-bind:src="urls[index]"
    ></mip-img>
  </div>
  <br>
  <br>
  <div>
    <button
      on="tap:
        MIP.setData({
          url: 'https://www.gstatic.com/webp/gallery/' + (m.index + 1) + '.jpg'
        })
      "
    >点我修改图片 url</button>
    <mip-img m-bind:src="url"></mip-img>
    <br>
    <br>
    <br>
  </div>
  <script src="../../dist/mip.js"></script>
</body>
</html>


